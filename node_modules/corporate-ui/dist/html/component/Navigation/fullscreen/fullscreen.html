
<!--#### A application main navigation component-->
<dom-module id="c-fullscreen">
  <!--TODO maya5j-->
  <!--See https://github.com/GoogleWebComponents/google-map/blob/master/google-map-marker.html-->
  <!--Polymer library is included in the component. Other libraries are on the client side see-->
  <!--https://github.com/GoogleWebComponents/google-map/blob/master/index.html-->
  <!--Include it here??-->
  <!--link(rel="import" href="https://static.scania.com/vendors/frameworks/bootstrap/3.2.0/dist/js/bootstrap.min.js")-->
  <link rel="import" href="variation-1.html"/>
  <template>
    <style>:host {
  display: inline-block;
}
:host a:hover:after {
  border: 0;
}
:host a .icon-fullscreen {
  line-height: 19px;
  vertical-align: middle;
  font-size: 1.5em;
}
:host a .icon-fullscreen:before {
  content: "\e72f";
}
:host-context(body.fullscreen) {
  /* When fullscreen mode is on change icon to icon-resize-small */
}
:host-context(body.fullscreen) a .icon-fullscreen:before {
  content: "\e784";
}
:host-context(c-main-navigation) {
  margin-right: 13px;
}
:host-context(sub-navigation) {
  margin-right: 26px;
}
:host-context(.app) ::content .c-fullscreen {
  margin-right: -7px;
}

    </style><a href on-tap="toggleFullscreen">
	<span class="icon-fullscreen"></span>
</a>

  </template>
  <script>var name = 'c-fullscreen'; Polymer({
    is: name,
    properties: {
        variation: 0,
        fullbleed: {
            type: Boolean,
            value: true
        },
        name: {
            type: String,
            value: 'fullscreen'
        }
    },
    registered: function () {
        document.addEventListener('toggle-fullscreen', this.toggleFullscreen.bind(this), false);
    },
    attached: function () {
        var mode = sessionStorage.getItem(this.name);
        if (mode) {
            document.body.classList.add(this.name);
        }
    },
    toggleFullscreen: function (e) {
        var globalTrigger = !this.name, className = 'fullscreen';
        e.preventDefault();
        document.body.classList.toggle(className);
        sessionStorage.setItem(className, 'true');
        if (!document.body.classList.contains(className)) {
            sessionStorage.removeItem(className);
        }
        if (!globalTrigger) {
            // This will bubble from current node and down, but if this happens 
            // from outside we should only trigger the event globally
            this.async(function () {
                this.fire('fullscreen-toggled');
            });
        }
        else {
            AppEventStore.apply({ name: 'fullscreen', action: 'fullscreen-toggled' });
        }
    }
});

  </script>
</dom-module>

<!--Cross-sell modules used to tease content and link out to other areas of the site.-->
<dom-module id="c-corporate-header">
  <!--TODO maya5j-->
  <!--See https://github.com/GoogleWebComponents/google-map/blob/master/google-map-marker.html-->
  <!--Polymer library is included in the component. Other libraries are on the client side see-->
  <!--https://github.com/GoogleWebComponents/google-map/blob/master/index.html-->
  <!--Include it here??-->
  <!--link(rel="import" href="https://static.scania.com/vendors/frameworks/bootstrap/3.2.0/dist/js/bootstrap.min.js")-->
  <link rel="import" href="variation-1.html"/>
  <template>
    <style>:host {
  display: none;
}
:host ::content .navbar-symbol.should-stick:before {
  position: fixed;
  top: 21px;
  right: 25px;
}
:host .navbar-default {
  z-index: 1010;
}
:host-context(.header-is-sticky) ::content .navbar-symbol.should-stick {
  width: 40px;
  height: 37px;
}
:host-context(.header-is-sticky) ::content .navbar-symbol.should-stick:before {
  transition: top 100ms ease-in-out;
  top: 9px;
}
:host-context(.app) ::content .navbar-symbol.should-stick:before {
  position: fixed;
  top: 11px;
  right: 10px;
}
:host-context(.header-is-sticky.app) ::content .navbar-symbol.should-stick:before {
  top: 7px;
  right: 10px;
}
:host-context(body.fullscreen) {
  display: none !important;
}
@media (max-width: 991px) {
  :host .navbar-default {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1100;
  }
  :host .navbar-default .navbar-header[short-name]:not([short-name='']) {
    font-size: 0;
  }
  :host .navbar-default .navbar-header[short-name]:not([short-name='']):after {
    display: inline-block;
    font-size: 1.8rem;
    vertical-align: middle;
    content: attr(short-name);
  }
}

    </style>
<nav class="navbar navbar-default">
  <div class="navbar-header" short-name$="{{shortName}}">
    <template is="dom-if" if="{{hasMainNav}}">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </template>
    <a href="{{siteUrl}}" class="navbar-brand"></a>
    {{siteName}}
    <a href="{{siteUrl}}" class="navbar-symbol"></a>
    <nav class="nav navbar-nav navbar-right">
      <content></content>
    </nav>
  </div>
</nav>
  </template>
  <script>var name = 'c-corporate-header'; Polymer({
    is: name,
    properties: {
        siteName: String,
        shortName: String,
        variation: 0,
        siteUrl: {
            type: String,
            value: '/'
        },
        fullbleed: {
            type: Boolean,
            value: true
        },
        hasMainNav: {
            type: Boolean,
            value: false,
            observer: 'initCollapsable'
        }
    },
    created: function () {
        /* What this does is to visualize whatever nav-item will do if it was not yet loaded.
          We might wanna add same thing to corporate-footer later if we wanna keep using Polymer... */
        if (window['params'].preload === 'false') {
            var items = this.querySelectorAll('nav-item');
            for (var i = 0; i < items.length; i++) {
                var item = items[i];
                if (!(item.children.length && item.children[0].nodeName === 'A')) {
                    item.innerHTML = '<a href="' + item.getAttribute('location') + '">' + item.innerHTML + '</a>';
                }
            }
        }
    },
    ready: function () {
        if (window['params'].preload !== 'false') {
            var url = this.resolveUrl('../../Bootstrap/navbar/nav-item/nav-item.html');
            this.importHref(url);
        }
    },
    attached: function () {
        this.style.display = 'block';
        this.setSize();
        window.addEventListener('resize', this.setSize.bind(this));
    },
    setSize: function () {
        this.style.padding = '';
        if (window.innerWidth < 991) {
            // TODO - We should use height, but then we need to add flex-grow & flex-shrink
            this.style.paddingTop = this.querySelector('.navbar-default').offsetHeight + 'px';
        }
    },
    initCollapsable: function (newState) {
        if (newState) {
            var elm = this.querySelector('.navbar-toggle');
            if (!elm) {
                // IE issue - We need this recursive loop to
                // make sure that the elm is actually available
                return setTimeout((function () {
                    this.initCollapsable(newState);
                }).bind(this), 100);
            }
            new window.Collapse(elm);
        }
    }
});

  </script>
</dom-module>